:root{
  --font-sans:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
  --font-mono:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;

  --text-xs:.8125rem;
  --text-sm:.875rem;
  --text-md:1rem;
  --text-lg:1.125rem;
  --text-xl:1.375rem;
  --text-2xl:1.75rem;

  --lh-tight:1.12;
  --lh-normal:1.45;

  --space-1:.25rem;
  --space-2:.5rem;
  --space-3:.75rem;
  --space-4:1rem;
  --space-5:1.25rem;
  --space-6:1.5rem;
  --space-7:2rem;
  --space-8:2.5rem;
  --space-9:3.25rem;
  --space-10:4rem;

  --r-1:10px;
  --r-2:14px;
  --r-3:18px;
  --r-4:22px;
  --r-pill:999px;

  --shadow-1:0 1px 0 rgba(255,255,255,.06),0 18px 50px rgba(0,0,0,.45);
  --shadow-2:0 1px 0 rgba(255,255,255,.08),0 24px 90px rgba(0,0,0,.55);
  --shadow-inset:inset 0 1px 0 rgba(255,255,255,.06);

  --ease-out:cubic-bezier(.16,1,.3,1);
  --ease-soft:cubic-bezier(.22,1,.36,1);
  --dur-1:120ms;
  --dur-2:200ms;
  --dur-3:320ms;
  --dur-4:520ms;

  --bg:#070A10;
  --bg-elev:rgba(255,255,255,.04);
  --panel:rgba(255,255,255,.04);
  --panel-2:rgba(255,255,255,.06);
  --stroke:rgba(255,255,255,.10);
  --stroke-2:rgba(255,255,255,.14);

  --text:rgba(255,255,255,.92);
  --text-2:rgba(255,255,255,.72);
  --text-3:rgba(255,255,255,.56);
  --muted:rgba(255,255,255,.12);

  --focus:rgba(97,215,255,.9);

  --a1:#4AD7FF;
  --a2:#8E6BFF;
  --a3:#FF4FD8;

  --accent:linear-gradient(110deg,var(--a1),var(--a2),var(--a3));
  --accent-soft:linear-gradient(110deg,rgba(74,215,255,.28),rgba(142,107,255,.22),rgba(255,79,216,.18));

  --ok:rgba(90,255,200,.95);
  --warn:rgba(255,209,102,.95);
  --err:rgba(255,132,158,.95);

  --container:1200px;
  --hero-h:clamp(560px,74vh,780px);
}

body[data-theme="light"],body.theme-light,.app[data-theme="light"]{
  --bg:#f7f8fb;
  --bg-elev:rgba(10,20,40,.04);
  --panel:rgba(10,20,40,.04);
  --panel-2:rgba(10,20,40,.06);
  --stroke:rgba(10,20,40,.12);
  --stroke-2:rgba(10,20,40,.18);

  --text:rgba(10,20,40,.92);
  --text-2:rgba(10,20,40,.70);
  --text-3:rgba(10,20,40,.54);
  --muted:rgba(10,20,40,.12);

  --shadow-1:0 1px 0 rgba(255,255,255,.7),0 22px 70px rgba(10,20,40,.12);
  --shadow-2:0 1px 0 rgba(255,255,255,.8),0 30px 90px rgba(10,20,40,.16);
  --shadow-inset:inset 0 1px 0 rgba(255,255,255,.6);
}

body[data-contrast="high"],body.high-contrast,.app[data-contrast="high"]{
  --panel:rgba(255,255,255,.08);
  --panel-2:rgba(255,255,255,.10);
  --stroke:rgba(255,255,255,.24);
  --stroke-2:rgba(255,255,255,.32);
  --text-2:rgba(255,255,255,.86);
  --text-3:rgba(255,255,255,.74);
  --focus:rgba(255,255,255,.95);
}

@media (prefers-reduced-motion:reduce){
  :root{--dur-1:1ms;--dur-2:1ms;--dur-3:1ms;--dur-4:1ms}
  *{scroll-behavior:auto!important}
}
body.reduce-motion,body[data-motion="reduced"],.app.reduce-motion{
  --dur-1:1ms;--dur-2:1ms;--dur-3:1ms;--dur-4:1ms
}

*,*::before,*::after{box-sizing:border-box}
html,body{height:100%}
html{-webkit-text-size-adjust:100%;text-size-adjust:100%}
body{
  margin:0;
  font-family:var(--font-sans);
  color:var(--text);
  background:
    radial-gradient(1200px 700px at 15% -10%,rgba(74,215,255,.18),transparent 55%),
    radial-gradient(900px 700px at 80% 0%,rgba(142,107,255,.16),transparent 55%),
    radial-gradient(900px 900px at 75% 85%,rgba(255,79,216,.10),transparent 55%),
    var(--bg);
  overflow-x:hidden;
}
a{color:inherit}
:focus-visible{outline:2px solid var(--focus);outline-offset:3px}
::selection{background:rgba(74,215,255,.22)}

.skip-link{
  position:absolute;left:var(--space-4);top:var(--space-4);
  padding:var(--space-3) var(--space-4);
  border-radius:var(--r-pill);
  background:rgba(0,0,0,.8);
  color:#fff;
  border:1px solid rgba(255,255,255,.18);
  transform:translateY(-140%);
  transition:transform var(--dur-2) var(--ease-out);
  z-index:1000;
}
.skip-link:focus{transform:translateY(0)}

.sr-only{
  position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;
  overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important
}
.hidden{display:none!important}

.kbd{
  display:inline-flex;align-items:center;justify-content:center;
  min-width:1.25rem;
  padding:.18rem .45rem;
  border-radius:10px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);
  box-shadow:var(--shadow-inset);
  font-family:var(--font-mono);
  font-size:var(--text-xs);
  color:var(--text-2);
  line-height:1.2;
}

.app{position:relative;min-height:100%}
.app__bg{position:fixed;inset:0;pointer-events:none;z-index:0}
.app__bg::before,.app__bg::after{
  content:"";position:absolute;inset:-20%;
  background:
    radial-gradient(700px 500px at 20% 20%,rgba(74,215,255,.10),transparent 60%),
    radial-gradient(800px 600px at 85% 25%,rgba(142,107,255,.10),transparent 62%),
    radial-gradient(900px 800px at 60% 90%,rgba(255,79,216,.08),transparent 62%);
  filter:blur(20px);
  transform:translateZ(0);
  animation:bgFloat 18s var(--ease-soft) infinite alternate;
}
.app__bg::after{opacity:.55;animation-duration:26s}
@keyframes bgFloat{from{transform:translate3d(0,0,0) scale(1.02)}to{transform:translate3d(0,-12px,0) scale(1.05)}}
@media (prefers-reduced-motion:reduce){.app__bg::before,.app__bg::after{animation:none}}

.topbar{
  position:sticky;top:0;
  z-index:8;
  padding:var(--space-5) var(--space-6) var(--space-4);
  max-width:calc(var(--container) + var(--space-6)*2);
  margin:0 auto;
  display:grid;
  grid-template-columns:1fr auto;
  gap:var(--space-4);
  align-items:center;
  background:linear-gradient(180deg,color-mix(in oklab,var(--bg) 78%, transparent),transparent);
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
}
@supports not ((backdrop-filter:blur(10px)) or (-webkit-backdrop-filter:blur(10px))){.topbar{background:transparent}}
.topbar__left{min-width:0}
.brand{display:flex;gap:var(--space-4);align-items:center;min-width:0}
.brand__mark{
  width:46px;height:46px;border-radius:var(--r-3);
  background:linear-gradient(180deg,rgba(255,255,255,.08),rgba(255,255,255,.03));
  border:1px solid var(--stroke);
  box-shadow:var(--shadow-inset);
  display:grid;place-items:center
}
.logo{width:34px;height:34px;color:rgba(255,255,255,.9)}
body[data-theme="light"] .logo,body.theme-light .logo{color:rgba(10,20,40,.85)}
.logo__path{stroke-dasharray:220;stroke-dashoffset:220;animation:logoDraw 900ms var(--ease-out) 200ms forwards}
.logo__path--2{stroke-dasharray:180;stroke-dashoffset:180;animation-delay:380ms}
@keyframes logoDraw{to{stroke-dashoffset:0}}
body.reduce-motion .logo__path,body[data-motion="reduced"] .logo__path{animation:none;stroke-dashoffset:0}

.brand__text{min-width:0}
.brand__row{display:flex;gap:var(--space-3);align-items:center;flex-wrap:wrap}
.brand__name{margin:0;font-size:var(--text-2xl);letter-spacing:-.02em;line-height:var(--lh-tight)}
.brand__tagline{margin:var(--space-1) 0 0;font-size:var(--text-sm);color:var(--text-2);line-height:var(--lh-normal)}

.status-chip{
  display:inline-flex;align-items:center;gap:var(--space-2);
  padding:.35rem .6rem;
  border-radius:var(--r-pill);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  box-shadow:var(--shadow-inset);
  color:var(--text-2);
  font-size:var(--text-xs);
}
.status-chip__dot{
  width:10px;height:10px;border-radius:50%;
  background:rgba(255,255,255,.18);
  box-shadow:0 0 0 0 rgba(74,215,255,.0);
}
.status-chip[data-state="speaking"] .status-chip__dot{
  background:color-mix(in oklab,var(--ok) 65%, var(--a1));
  animation:pulse 1.15s var(--ease-soft) infinite;
}
.status-chip[data-state="paused"] .status-chip__dot{background:color-mix(in oklab,var(--warn) 60%, var(--a2))}
.status-chip[data-state="error"] .status-chip__dot{background:color-mix(in oklab,var(--err) 65%, var(--a3))}
@keyframes pulse{
  0%{box-shadow:0 0 0 0 rgba(74,215,255,.0)}
  60%{box-shadow:0 0 0 10px rgba(74,215,255,.12)}
  100%{box-shadow:0 0 0 16px rgba(74,215,255,0)}
}
body.reduce-motion .status-chip__dot,body[data-motion="reduced"] .status-chip__dot{animation:none}

.chips{margin-top:var(--space-3);display:flex;flex-wrap:wrap;gap:var(--space-2)}
.chip{
  display:inline-flex;align-items:center;gap:var(--space-2);
  padding:.4rem .7rem;border-radius:var(--r-pill);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--text-2);
  font-size:var(--text-xs);
  box-shadow:var(--shadow-inset)
}
.chip--kbd{gap:.45rem}
.header__actions{display:flex;gap:var(--space-2);align-items:center;justify-content:flex-end;flex-wrap:wrap}

.main{
  position:relative;z-index:1;
  max-width:calc(var(--container) + var(--space-6)*2);
  margin:0 auto;
  padding:0 var(--space-6) var(--space-10)
}

.hero{margin-top:var(--space-2)}
.hero__frame{
  position:relative;
  border-radius:calc(var(--r-4) + 8px);
  border:1px solid rgba(255,255,255,.10);
  background:linear-gradient(180deg,rgba(255,255,255,.05),rgba(255,255,255,.02));
  box-shadow:var(--shadow-2);
  overflow:hidden;
  min-height:var(--hero-h)
}
.hero__mesh{
  position:absolute;inset:-30%;
  background:
    radial-gradient(700px 460px at 18% 22%,rgba(74,215,255,.35),transparent 60%),
    radial-gradient(780px 520px at 72% 28%,rgba(142,107,255,.30),transparent 60%),
    radial-gradient(860px 620px at 58% 82%,rgba(255,79,216,.18),transparent 62%),
    radial-gradient(700px 700px at 92% 78%,rgba(74,215,255,.10),transparent 60%);
  filter:blur(34px) saturate(1.12);
  opacity:.75;
  transform:translateZ(0);
  animation:meshDrift 20s var(--ease-soft) infinite alternate
}
@keyframes meshDrift{from{transform:translate3d(-1.2%,-1.2%,0) scale(1.02)}to{transform:translate3d(1.2%,.8%,0) scale(1.06)}}
@media (prefers-reduced-motion:reduce){.hero__mesh{animation:none}}
.hero__noise{
  position:absolute;inset:0;opacity:.08;
  background-image:url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='260' height='260'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='.9' numOctaves='3' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='260' height='260' filter='url(%23n)' opacity='.6'/%3E%3C/svg%3E");
  background-size:220px 220px;
  mix-blend-mode:overlay;
  pointer-events:none
}
.hero__content{
  position:relative;
  padding:var(--space-7);
  display:grid;
  grid-template-columns:1.05fr .95fr;
  gap:var(--space-6);
  align-items:start
}

.panel{
  border-radius:var(--r-4);
  border:1px solid var(--stroke);
  background:color-mix(in oklab,var(--panel) 92%, transparent);
  box-shadow:var(--shadow-1);
  backdrop-filter:blur(10px);
  -webkit-backdrop-filter:blur(10px);
  padding:var(--space-6)
}
@supports not ((backdrop-filter:blur(10px)) or (-webkit-backdrop-filter:blur(10px))){
  .panel{background:rgba(0,0,0,.30)}
  body[data-theme="light"] .panel,body.theme-light .panel{background:rgba(255,255,255,.76)}
}
.panel--glass{background:color-mix(in oklab,var(--panel) 86%, transparent)}
.panel--glow{position:relative;overflow:hidden}
.panel--glow::before{
  content:"";
  position:absolute;inset:-1px;border-radius:inherit;padding:1px;
  background:var(--accent-soft);
  -webkit-mask:linear-gradient(#000 0 0) content-box,linear-gradient(#000 0 0);
  -webkit-mask-composite:xor;
  mask-composite:exclude;
  opacity:.85;
  pointer-events:none
}
.panel__head{display:flex;flex-direction:column;gap:var(--space-2);margin-bottom:var(--space-5)}
.panel__title{margin:0;font-size:var(--text-lg);letter-spacing:-.01em;line-height:var(--lh-tight)}
.panel__subtitle{margin:0;font-size:var(--text-sm);color:var(--text-2)}

.button{
  appearance:none;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.06);
  color:var(--text);
  border-radius:var(--r-2);
  padding:.62rem .85rem;
  font-size:var(--text-sm);
  line-height:1;
  cursor:pointer;
  transition:transform var(--dur-2) var(--ease-out),background var(--dur-2) var(--ease-out),border-color var(--dur-2) var(--ease-out),box-shadow var(--dur-2) var(--ease-out),opacity var(--dur-2) var(--ease-out);
  box-shadow:var(--shadow-inset);
  user-select:none
}
.button:hover{background:rgba(255,255,255,.10);border-color:var(--stroke-2)}
.button:active{transform:translateY(1px)}
.button:disabled,.button[aria-disabled="true"]{opacity:.55;cursor:not-allowed}
.button--ghost{background:transparent;border-color:var(--stroke)}
.button--primary{
  border:0;
  background:var(--accent);
  color:rgba(0,0,0,.88);
  box-shadow:0 10px 30px rgba(74,215,255,.10),0 14px 60px rgba(142,107,255,.10)
}
body[data-theme="light"] .button--primary,body.theme-light .button--primary{color:rgba(255,255,255,.94)}
.button--primary:hover{
  transform:translateY(-1px);
  box-shadow:0 12px 38px rgba(74,215,255,.12),0 18px 80px rgba(255,79,216,.10)
}
.button__spinner{
  width:14px;height:14px;border-radius:50%;
  border:2px solid rgba(255,255,255,.25);
  border-top-color:rgba(255,255,255,.85);
  display:inline-block;
  vertical-align:middle;
  margin-left:.55rem;
  animation:spin .75s linear infinite
}
@keyframes spin{to{transform:rotate(360deg)}}
body.reduce-motion .button__spinner,body[data-motion="reduced"] .button__spinner{animation:none}

.pill{
  appearance:none;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.06);
  color:var(--text-2);
  border-radius:var(--r-pill);
  padding:.45rem .7rem;
  font-size:var(--text-xs);
  cursor:pointer;
  transition:background var(--dur-2) var(--ease-out),border-color var(--dur-2) var(--ease-out),transform var(--dur-2) var(--ease-out)
}
.pill:hover{background:rgba(255,255,255,.10);border-color:var(--stroke-2)}
.pill:active{transform:translateY(1px)}

input,select,textarea{
  width:100%;
  font:inherit;
  color:var(--text);
  background:rgba(255,255,255,.05);
  border:1px solid var(--stroke);
  border-radius:var(--r-2);
  padding:.7rem .85rem;
  transition:border-color var(--dur-2) var(--ease-out),background var(--dur-2) var(--ease-out),box-shadow var(--dur-2) var(--ease-out);
  outline:none
}
textarea{resize:vertical;min-height:160px;line-height:var(--lh-normal)}
input::placeholder,textarea::placeholder{color:color-mix(in oklab,var(--text-3) 92%, transparent)}
input:focus,select:focus,textarea:focus{
  border-color:color-mix(in oklab,var(--focus) 70%, var(--stroke));
  box-shadow:0 0 0 4px color-mix(in oklab,var(--focus) 22%, transparent);
  background:rgba(255,255,255,.07)
}
select{
  appearance:none;
  background-image:linear-gradient(45deg,transparent 50%,var(--text-3) 50%),linear-gradient(135deg,var(--text-3) 50%,transparent 50%);
  background-position:calc(100% - 18px) calc(50% - 3px),calc(100% - 12px) calc(50% - 3px);
  background-size:6px 6px;
  background-repeat:no-repeat;
  padding-right:2.2rem
}
input[type="range"]{padding:0;background:transparent;border:0}
input[type="range"]::-webkit-slider-runnable-track{height:8px;border-radius:var(--r-pill);background:rgba(255,255,255,.10);border:1px solid var(--stroke)}
input[type="range"]::-webkit-slider-thumb{-webkit-appearance:none;width:18px;height:18px;margin-top:-6px;border-radius:50%;background:var(--accent);border:0;box-shadow:0 10px 24px rgba(0,0,0,.35)}
input[type="range"]::-moz-range-track{height:8px;border-radius:var(--r-pill);background:rgba(255,255,255,.10);border:1px solid var(--stroke)}
input[type="range"]::-moz-range-thumb{width:18px;height:18px;border-radius:50%;background:transparent;border:0}

.field{display:grid;gap:var(--space-2)}
.field__label{font-size:var(--text-xs);color:var(--text-2)}
.field__hint{font-size:var(--text-xs);color:var(--text-3)}
.field--textarea textarea{min-height:220px}

.control{display:grid;gap:var(--space-2)}
.control label{font-size:var(--text-xs);color:var(--text-2)}
.control__stack{display:grid;gap:var(--space-2)}

.toggle{
  display:inline-flex;align-items:center;gap:var(--space-3);
  padding:.55rem .65rem;
  border-radius:var(--r-pill);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--text-2);
  font-size:var(--text-xs);
  user-select:none
}
.toggle input{width:18px;height:18px;accent-color:color-mix(in oklab,var(--a1) 65%, white)}

.select-wrap{position:relative}
.select-skeleton{
  position:absolute;inset:0;
  border-radius:var(--r-2);
  background:rgba(255,255,255,.04);
  border:1px solid var(--stroke);
  padding:.65rem .85rem;
  display:grid;gap:.5rem;
}
.skeleton-line{
  height:10px;border-radius:999px;
  background:linear-gradient(90deg,rgba(255,255,255,.08),rgba(255,255,255,.16),rgba(255,255,255,.08));
  background-size:200% 100%;
  animation:shimmer 1.2s var(--ease-soft) infinite;
}
@keyframes shimmer{from{background-position:180% 0}to{background-position:-60% 0}}
body.reduce-motion .skeleton-line,body[data-motion="reduced"] .skeleton-line{animation:none}

.controls{display:grid;grid-template-columns:1.15fr .85fr;gap:var(--space-6)}
.controls__row{display:flex;flex-wrap:wrap;gap:var(--space-2);align-items:center}
.seekers{display:flex;flex-wrap:wrap;gap:var(--space-2);align-items:center}
.seekers__sep{width:1px;height:26px;background:var(--stroke);margin:0 var(--space-2)}
.rate__ticks{display:flex;flex-wrap:wrap;gap:var(--space-2)}

.add-panel{margin-top:var(--space-6)}
.add-tabs{
  display:inline-flex;gap:var(--space-2);
  padding:var(--space-2);
  border-radius:var(--r-pill);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  box-shadow:var(--shadow-inset);
  margin-bottom:var(--space-5)
}
.tab{
  border:1px solid transparent;
  background:transparent;
  color:var(--text-2);
  font-size:var(--text-sm);
  padding:.55rem .8rem;
  border-radius:var(--r-pill);
  cursor:pointer;
  transition:background var(--dur-2) var(--ease-out),color var(--dur-2) var(--ease-out),transform var(--dur-2) var(--ease-out)
}
.tab:hover{background:rgba(255,255,255,.06);color:var(--text)}
.tab--active{background:rgba(255,255,255,.10);color:var(--text);border-color:var(--stroke-2)}
.add-options{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-4);margin-top:var(--space-4)}
.add-actions{display:flex;flex-wrap:wrap;gap:var(--space-3);align-items:center;justify-content:space-between;margin-top:var(--space-5)}
.hint{margin:var(--space-4) 0 0;color:var(--text-3);font-size:var(--text-xs);line-height:var(--lh-normal)}

.now-playing{padding:var(--space-7)}
.now-playing__head{display:grid;grid-template-columns:1fr auto;gap:var(--space-5);align-items:start;margin-bottom:var(--space-6)}
.now-actions{display:flex;flex-wrap:wrap;gap:var(--space-2);justify-content:flex-end}
.now-title{margin:var(--space-2) 0 0;font-size:clamp(1.35rem,2.6vw,2.25rem);letter-spacing:-.02em;line-height:var(--lh-tight)}
.now-status{margin:var(--space-2) 0 0;color:var(--text-2);font-size:var(--text-sm);line-height:var(--lh-normal)}
.now-grid{display:grid;grid-template-columns:1fr 360px;gap:var(--space-5);align-items:start}
.now-progress{display:grid;gap:var(--space-4)}

.progress-bar{
  position:relative;height:14px;border-radius:var(--r-pill);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.06);
  overflow:hidden
}
.progress-bar__fill{
  position:absolute;inset:0 auto 0 0;width:0%;
  background:var(--accent);
  border-radius:var(--r-pill);
  box-shadow:0 8px 26px rgba(74,215,255,.10);
  transition:width var(--dur-3) var(--ease-out)
}
.progress-bar__sheen{
  position:absolute;inset:0;
  background:linear-gradient(90deg,transparent,rgba(255,255,255,.18),transparent);
  transform:translateX(-60%);
  opacity:0;
  pointer-events:none
}
.progress-bar[data-active="true"] .progress-bar__sheen{
  opacity:1;
  animation:sheen 1.6s var(--ease-soft) infinite
}
@keyframes sheen{from{transform:translateX(-60%)}to{transform:translateX(120%)}}
body.reduce-motion .progress-bar__sheen,body[data-motion="reduced"] .progress-bar__sheen{animation:none;opacity:0}

.progress-meta{
  display:flex;justify-content:space-between;gap:var(--space-4);
  color:var(--text-3);
  font-family:var(--font-mono);
  font-size:var(--text-xs)
}
.now-speaking{
  padding:var(--space-4);
  border-radius:var(--r-3);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  color:var(--text-2);
  line-height:var(--lh-normal);
  min-height:72px
}
.sleep-timer{color:var(--text-3);font-size:var(--text-xs)}
.up-next-inline{margin-top:var(--space-2);padding-top:var(--space-4);border-top:1px solid var(--stroke)}
.up-next-inline__label{font-size:var(--text-xs);color:var(--text-3);margin-bottom:var(--space-3)}
#upNext{margin:0;padding-left:1.2rem;color:var(--text-2);font-size:var(--text-sm);line-height:var(--lh-normal)}
#upNext li{margin:.28rem 0}

.now-side{position:sticky;top:calc(72px + var(--space-4))}
.stat-card{
  border-radius:var(--r-4);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  box-shadow:var(--shadow-inset);
  padding:var(--space-5);
  display:grid;
  gap:var(--space-4)
}
.stat-card__row{display:grid;grid-template-columns:1fr 1fr;gap:var(--space-4)}
.stat__label{font-size:var(--text-xs);color:var(--text-3)}
.stat__value{font-size:var(--text-xl);letter-spacing:-.02em;line-height:1.1}
.chart-wrap{position:relative;border-radius:var(--r-3);border:1px solid var(--stroke);background:rgba(0,0,0,.12);overflow:hidden}
body[data-theme="light"] .chart-wrap,body.theme-light .chart-wrap{background:rgba(255,255,255,.55)}
#queueChart{display:block;width:100%;height:auto}
.chart-tooltip{
  position:absolute;
  left:12px;top:12px;
  padding:.35rem .55rem;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:rgba(0,0,0,.5);
  color:rgba(255,255,255,.92);
  font-size:var(--text-xs);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  pointer-events:none
}
body[data-theme="light"] .chart-tooltip,body.theme-light .chart-tooltip{background:rgba(10,20,40,.72)}
.stat-card__foot{display:flex;justify-content:space-between;gap:var(--space-4)}
.micro{display:grid;gap:.2rem}
.micro__label{font-size:var(--text-xs);color:var(--text-3)}
.micro__value{font-family:var(--font-mono);font-size:var(--text-sm);color:var(--text-2)}

.queue{margin-top:var(--space-7)}
.queue__header{
  display:flex;justify-content:space-between;gap:var(--space-4);align-items:flex-start;margin-bottom:var(--space-4)
}
.queue__title{display:grid;gap:.25rem}
.queue__header h2{margin:0;font-size:var(--text-lg);letter-spacing:-.01em}
.queue__subtitle{margin:0;color:var(--text-3);font-size:var(--text-xs);line-height:var(--lh-normal)}
.queue__actions{display:flex;gap:var(--space-3);align-items:center;flex-wrap:wrap;justify-content:flex-end}
.queue__search{width:min(320px,56vw)}
.queue__list{display:grid;gap:var(--space-3)}
.queue__footer{margin-top:var(--space-4);display:flex;justify-content:flex-end}

.empty{
  border:1px dashed color-mix(in oklab,var(--stroke-2) 80%, transparent);
  border-radius:var(--r-4);
  padding:var(--space-6);
  background:rgba(255,255,255,.03);
  color:var(--text-2);
  display:grid;
  gap:.35rem
}
.empty__title{font-size:var(--text-lg);letter-spacing:-.01em;color:var(--text)}
.empty__text{color:var(--text-2);font-size:var(--text-sm);line-height:var(--lh-normal)}

.qitem{
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  border-radius:var(--r-4);
  padding:var(--space-5);
  box-shadow:var(--shadow-inset);
  transition:transform var(--dur-3) var(--ease-out),border-color var(--dur-2) var(--ease-out),background var(--dur-2) var(--ease-out);
  display:grid;
  gap:var(--space-3)
}
.qitem:hover{border-color:var(--stroke-2);background:rgba(255,255,255,.06);transform:translateY(-1px)}
.qitem[data-active="true"]{
  border-color:color-mix(in oklab,var(--a1) 35%, var(--stroke-2));
  background:color-mix(in oklab,rgba(255,255,255,.06) 70%, rgba(74,215,255,.08));
}
.qitem__top{display:flex;justify-content:space-between;gap:var(--space-3);align-items:center}
.qitem__title{
  margin:0;
  font-size:var(--text-md);
  letter-spacing:-.01em;
  line-height:var(--lh-tight)
}
.qitem__meta{display:flex;gap:var(--space-2);flex-wrap:wrap;align-items:center}
.badge{
  display:inline-flex;align-items:center;gap:var(--space-2);
  padding:.28rem .55rem;
  border-radius:var(--r-pill);
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.05);
  color:var(--text-2);
  font-size:var(--text-xs)
}
.qitem__snippet{color:var(--text-2);font-size:var(--text-sm);line-height:var(--lh-normal);text-wrap:pretty}
.qitem__actions{display:flex;gap:var(--space-2);flex-wrap:wrap}
.qitem__handle{
  display:inline-flex;align-items:center;justify-content:center;
  width:38px;height:34px;
  border-radius:12px;
  border:1px solid var(--stroke);
  background:rgba(255,255,255,.04);
  box-shadow:var(--shadow-inset);
  cursor:grab;
  user-select:none
}
.qitem__handle:active{cursor:grabbing}
.qitem__row{display:flex;gap:var(--space-3);align-items:center;flex-wrap:wrap}
.qitem__row .button{padding:.55rem .75rem}

.qitem--compact{
  padding:var(--space-4);
  grid-template-columns:1fr auto;
  align-items:center
}
.qitem--compact .qitem__snippet{display:none}
.qitem--compact .qitem__actions{display:none}
.qitem--compact .qitem__meta{justify-content:flex-end}

.settings{
  margin-top:var(--space-7);
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:var(--space-5)
}
.settings__card h2{margin:0 0 var(--space-4);font-size:var(--text-lg);letter-spacing:-.01em}
.settings__row{display:flex;flex-wrap:wrap;gap:var(--space-3);align-items:center}

.help{margin-top:var(--space-7)}
.shortcut-list{margin:0;padding-left:1.2rem;color:var(--text-2);font-size:var(--text-sm);line-height:var(--lh-normal)}
.shortcut-list li{margin:.34rem 0}
.shortcut-list strong{color:var(--text);font-family:var(--font-mono);font-weight:650}

.footer{
  margin-top:var(--space-8);
  padding:var(--space-5) 0 var(--space-2);
  display:flex;
  justify-content:space-between;
  gap:var(--space-4);
  color:var(--text-3);
  font-size:var(--text-xs);
  border-top:1px solid var(--stroke)
}

.toast-stack{
  position:fixed;
  right:var(--space-5);
  bottom:var(--space-5);
  width:min(420px,calc(100vw - var(--space-5)*2));
  display:grid;
  gap:var(--space-3);
  z-index:999;
  pointer-events:none
}
.toast{
  pointer-events:auto;
  border:1px solid var(--stroke);
  background:color-mix(in oklab,var(--panel) 86%, rgba(0,0,0,.35));
  border-radius:var(--r-3);
  box-shadow:var(--shadow-1);
  padding:var(--space-4);
  color:var(--text);
  backdrop-filter:blur(12px);
  -webkit-backdrop-filter:blur(12px);
  animation:toastIn var(--dur-3) var(--ease-out) both;
  display:grid;
  gap:.5rem
}
@keyframes toastIn{from{transform:translateY(10px);opacity:0}to{transform:translateY(0);opacity:1}}
body.reduce-motion .toast,body[data-motion="reduced"] .toast{animation:none}
.toast__row{display:flex;justify-content:space-between;gap:var(--space-3);align-items:flex-start}
.toast__title{font-size:var(--text-sm);color:var(--text);line-height:1.2}
.toast__msg{font-size:var(--text-xs);color:var(--text-2);line-height:var(--lh-normal)}
.toast__actions{display:flex;gap:var(--space-2);flex-wrap:wrap}
.toast--error{border-color:color-mix(in oklab,var(--err) 45%, var(--stroke))}
.toast--warning{border-color:color-mix(in oklab,var(--warn) 45%, var(--stroke))}
.toast--success{border-color:color-mix(in oklab,var(--ok) 45%, var(--stroke))}

.dialog{
  border:none;
  padding:0;
  background:transparent;
  width:min(920px,calc(100vw - var(--space-6)*2))
}
.dialog::backdrop{background:rgba(0,0,0,.55);backdrop-filter:blur(8px)}
.dialog__frame{
  border-radius:calc(var(--r-4) + 6px);
  border:1px solid var(--stroke);
  background:color-mix(in oklab,var(--panel) 92%, rgba(0,0,0,.20));
  box-shadow:var(--shadow-2);
  overflow:hidden
}
.cmdk{padding:var(--space-5);display:grid;gap:var(--space-3)}
.cmdk__top{display:flex;gap:var(--space-3);align-items:center}
.cmdk__input{
  flex:1;
  border-radius:var(--r-3);
  padding:.85rem 1rem;
  font-size:var(--text-md)
}
.cmdk__meta{font-size:var(--text-xs);color:var(--text-3)}
.cmdk__list{
  border:1px solid var(--stroke);
  border-radius:var(--r-3);
  background:rgba(255,255,255,.03);
  overflow:auto;
  max-height:min(50vh,420px)
}
.cmdk__item{
  display:flex;justify-content:space-between;gap:var(--space-3);align-items:center;
  padding:.75rem .9rem;
  border-bottom:1px solid rgba(255,255,255,.06);
  cursor:pointer
}
.cmdk__item:last-child{border-bottom:none}
.cmdk__item:hover{background:rgba(255,255,255,.05)}
.cmdk__item[aria-selected="true"]{
  background:rgba(255,255,255,.08);
  outline:1px solid color-mix(in oklab,var(--a1) 30%, transparent)
}
.cmdk__left{display:grid;gap:.18rem}
.cmdk__name{font-size:var(--text-sm);color:var(--text)}
.cmdk__hint{font-size:var(--text-xs);color:var(--text-3)}
.cmdk__keys{display:flex;gap:.35rem;align-items:center;flex-wrap:wrap}
.cmdk__keys .kbd{opacity:.9}

.edit{padding:var(--space-5);display:grid;gap:var(--space-4)}
.edit__head{display:flex;justify-content:space-between;gap:var(--space-4);align-items:center}
.edit__title{font-size:var(--text-lg);letter-spacing:-.01em}
.edit__actions{display:flex;gap:var(--space-2);flex-wrap:wrap}
.edit__body{display:grid;gap:var(--space-4)}

.confirm{padding:var(--space-6);display:grid;gap:var(--space-4)}
.confirm__title{font-size:var(--text-lg);letter-spacing:-.01em}
.confirm__text{color:var(--text-2);line-height:var(--lh-normal)}
.confirm__actions{display:flex;justify-content:flex-end;gap:var(--space-2);flex-wrap:wrap}

body.focus-mode .topbar,body.is-focus .topbar,.app.focus-mode .topbar,.app.is-focus .topbar{
  opacity:0;pointer-events:none;transform:translateY(-8px);
  transition:opacity var(--dur-3) var(--ease-out),transform var(--dur-3) var(--ease-out)
}
body.focus-mode .queue,body.focus-mode .settings,body.focus-mode .help,
body.is-focus .queue,body.is-focus .settings,body.is-focus .help,
.app.focus-mode .queue,.app.focus-mode .settings,.app.focus-mode .help,
.app.is-focus .queue,.app.is-focus .settings,.app.is-focus .help{display:none!important}
body.focus-mode .hero__content,body.is-focus .hero__content,.app.focus-mode .hero__content,.app.is-focus .hero__content{grid-template-columns:1fr}
body.focus-mode .hero__left,body.is-focus .hero__left,.app.focus-mode .hero__left,.app.is-focus .hero__left{display:none}
body.focus-mode .now-playing,body.is-focus .now-playing,.app.focus-mode .now-playing,.app.is-focus .now-playing{padding:var(--space-8)}
body.focus-mode .now-side,body.is-focus .now-side,.app.focus-mode .now-side,.app.is-focus .now-side{display:none}

@media (max-width:1100px){
  .now-grid{grid-template-columns:1fr}
  .now-side{position:relative;top:auto}
}
@media (max-width:980px){
  .topbar{grid-template-columns:1fr;gap:var(--space-3)}
  .header__actions{justify-content:flex-start}
  .hero__content{grid-template-columns:1fr;padding:var(--space-6)}
  .controls{grid-template-columns:1fr}
  .settings{grid-template-columns:1fr}
}
@media (max-width:780px){
  .add-options{grid-template-columns:1fr}
  .add-actions{justify-content:flex-start}
}
@media (max-width:520px){
  .main{padding-left:var(--space-4);padding-right:var(--space-4)}
  .topbar{padding-left:var(--space-4);padding-right:var(--space-4)}
  .panel{padding:var(--space-5)}
  .now-playing{padding:var(--space-6)}
  .brand__name{font-size:var(--text-xl)}
  .queue__actions{justify-content:flex-start}
}
