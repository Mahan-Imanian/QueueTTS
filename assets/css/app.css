:root {
  --sp-4: 4px;
  --sp-8: 8px;
  --sp-12: 12px;
  --sp-16: 16px;
  --sp-20: 20px;
  --sp-24: 24px;
  --sp-32: 32px;
  --sp-40: 40px;
  --sp-48: 48px;
  --sp-64: 64px;

  --r-8: 8px;
  --r-12: 12px;
  --r-16: 16px;
  --r-24: 24px;

  --fs-12: 12px;
  --fs-14: 14px;
  --fs-16: 16px;
  --fs-18: 18px;
  --fs-22: 22px;
  --fs-28: 28px;
  --fs-36: 36px;

  --lh-11: 1.1;
  --lh-13: 1.3;
  --lh-15: 1.5;

  --dur-120: 120ms;
  --dur-200: 200ms;
  --dur-320: 320ms;
  --dur-520: 520ms;
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);

  --border-1: 1px;
  --blur: 24px;

  --a1: #4ad7ff;
  --a2: #8e6bff;
  --a3: #ff4fd8;

  --g-accent: linear-gradient(110deg, var(--a1), var(--a2), var(--a3));
  --g-accent-soft: linear-gradient(
    110deg,
    color-mix(in oklab, var(--a1) 24%, transparent),
    color-mix(in oklab, var(--a2) 20%, transparent),
    color-mix(in oklab, var(--a3) 16%, transparent)
  );
  --g-surface: linear-gradient(
    180deg,
    color-mix(in oklab, var(--surface) 88%, transparent),
    color-mix(in oklab, var(--elev) 88%, transparent)
  );

  --shadow-1: 0 10px 28px rgba(0, 0, 0, 0.28);
  --shadow-2: 0 18px 52px rgba(0, 0, 0, 0.34);
  --shadow-3: 0 26px 86px rgba(0, 0, 0, 0.42);

  --focus: color-mix(in oklab, var(--a1) 70%, white);
}

body {
  --bg: #070a10;
  --surface: rgba(255, 255, 255, 0.05);
  --elev: rgba(255, 255, 255, 0.07);
  --text: rgba(255, 255, 255, 0.92);
  --muted: rgba(255, 255, 255, 0.68);
  --border: rgba(255, 255, 255, 0.12);
  --danger: #ff849e;
  --warning: #ffd166;
  --success: #5affc8;

  margin: 0;
  min-height: 100vh;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  color: var(--text);
  background:
    radial-gradient(900px 600px at 12% -10%, color-mix(in oklab, var(--a1) 16%, transparent), transparent 55%),
    radial-gradient(900px 600px at 82% 0%, color-mix(in oklab, var(--a2) 14%, transparent), transparent 55%),
    radial-gradient(900px 900px at 75% 90%, color-mix(in oklab, var(--a3) 10%, transparent), transparent 55%),
    var(--bg);
  overflow-x: hidden;
}

body[data-theme="light"] {
  --bg: #f7f8fb;
  --surface: rgba(10, 20, 40, 0.05);
  --elev: rgba(10, 20, 40, 0.07);
  --text: rgba(10, 20, 40, 0.92);
  --muted: rgba(10, 20, 40, 0.66);
  --border: rgba(10, 20, 40, 0.14);
  --shadow-1: 0 10px 28px rgba(10, 20, 40, 0.10);
  --shadow-2: 0 18px 52px rgba(10, 20, 40, 0.12);
  --shadow-3: 0 26px 86px rgba(10, 20, 40, 0.14);
}

body[data-contrast="high"] {
  --surface: color-mix(in oklab, var(--surface) 70%, transparent);
  --elev: color-mix(in oklab, var(--elev) 70%, transparent);
  --border: color-mix(in oklab, var(--border) 70%, white);
  --muted: color-mix(in oklab, var(--muted) 85%, var(--text));
}

@media (prefers-reduced-motion: reduce) {
  :root {
    --dur-120: 1ms;
    --dur-200: 1ms;
    --dur-320: 1ms;
    --dur-520: 1ms;
  }
}

body[data-motion="reduced"] {
  --dur-120: 1ms;
  --dur-200: 1ms;
  --dur-320: 1ms;
  --dur-520: 1ms;
}

*,
*::before,
*::after {
  box-sizing: border-box;
}

a {
  color: inherit;
}

:focus-visible {
  outline: 2px solid var(--focus);
  outline-offset: var(--sp-4);
}

.sr {
  position: absolute !important;
  width: 1px !important;
  height: 1px !important;
  padding: 0 !important;
  margin: -1px !important;
  overflow: hidden !important;
  clip: rect(0, 0, 0, 0) !important;
  white-space: nowrap !important;
  border: 0 !important;
}

.hidden {
  display: none !important;
}

.skip {
  position: absolute;
  left: var(--sp-16);
  top: var(--sp-16);
  padding: var(--sp-12) var(--sp-16);
  border-radius: var(--r-12);
  border: var(--border-1) solid var(--border);
  background: rgba(0, 0, 0, 0.85);
  color: white;
  transform: translateY(-140%);
  transition: transform var(--dur-200) var(--ease-out);
  z-index: 50;
}

.skip:focus {
  transform: translateY(0);
}

.bg {
  position: fixed;
  inset: 0;
  pointer-events: none;
  background:
    radial-gradient(700px 460px at 20% 20%, color-mix(in oklab, var(--a1) 12%, transparent), transparent 60%),
    radial-gradient(780px 520px at 75% 25%, color-mix(in oklab, var(--a2) 11%, transparent), transparent 62%),
    radial-gradient(860px 620px at 60% 85%, color-mix(in oklab, var(--a3) 8%, transparent), transparent 62%);
  filter: blur(var(--blur));
  opacity: 0.9;
}

.top {
  max-width: calc(var(--sp-64) * 18);
  margin: 0 auto;
  padding: var(--sp-32) var(--sp-24) var(--sp-20);
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--sp-24);
  align-items: start;
}

@media (max-width: 980px) {
  .top {
    grid-template-columns: 1fr;
  }
}

.brand {
  display: grid;
  grid-template-columns: auto 1fr;
  gap: var(--sp-16);
  align-items: center;
}

.brandMark {
  width: var(--sp-48);
  height: var(--sp-48);
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: var(--g-surface);
  box-shadow: var(--shadow-1);
  display: grid;
  place-items: center;
  color: var(--text);
}

.brandText {
  min-width: 0;
}

.brandName {
  margin: 0;
  font-size: var(--fs-28);
  line-height: var(--lh-11);
  letter-spacing: -0.02em;
}

.brandTag {
  margin: var(--sp-8) 0 0;
  font-size: var(--fs-14);
  line-height: var(--lh-15);
  color: var(--muted);
}

.chips {
  margin-top: var(--sp-12);
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-8);
}

.chip {
  display: inline-flex;
  align-items: center;
  padding: var(--sp-8) var(--sp-12);
  border-radius: var(--r-12);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 80%, transparent);
  font-size: var(--fs-12);
  color: var(--muted);
}

.topActions {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-8);
  justify-content: flex-end;
}

@media (max-width: 980px) {
  .topActions {
    justify-content: flex-start;
  }
}

.main {
  max-width: calc(var(--sp-64) * 18);
  margin: 0 auto;
  padding: 0 var(--sp-24) var(--sp-64);
}

.grid {
  display: grid;
  grid-template-columns: 1.05fr 0.95fr;
  gap: var(--sp-24);
  align-items: start;
}

@media (max-width: 980px) {
  .grid {
    grid-template-columns: 1fr;
  }
}

.panel {
  border-radius: var(--r-24);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 86%, transparent);
  box-shadow: var(--shadow-2);
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  padding: var(--sp-24);
}

@supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
  .panel {
    background: color-mix(in oklab, var(--surface) 92%, rgba(0, 0, 0, 0.22));
  }
  body[data-theme="light"] .panel {
    background: color-mix(in oklab, white 86%, var(--surface));
  }
}

.panelGlow {
  position: relative;
  overflow: hidden;
}

.panelGlow::before {
  content: "";
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 1px;
  background: var(--g-accent-soft);
  -webkit-mask: linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0.9;
  pointer-events: none;
}

.panelHead {
  margin-bottom: var(--sp-16);
}

.h2 {
  margin: 0;
  font-size: var(--fs-22);
  line-height: var(--lh-13);
  letter-spacing: -0.01em;
}

.h3 {
  font-size: var(--fs-14);
  color: var(--muted);
  line-height: var(--lh-13);
}

.sub {
  margin: var(--sp-8) 0 0;
  font-size: var(--fs-14);
  line-height: var(--lh-15);
  color: var(--muted);
}

.title {
  margin-top: var(--sp-8);
  font-size: var(--fs-28);
  line-height: var(--lh-11);
  letter-spacing: -0.02em;
}

.row {
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-8);
  align-items: center;
}

.rowBetween {
  justify-content: space-between;
}

.rowTight {
  gap: var(--sp-8);
}

.sep {
  width: var(--border-1);
  height: var(--sp-24);
  background: var(--border);
  margin: 0 var(--sp-8);
}

.btn {
  appearance: none;
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  color: var(--text);
  border-radius: var(--r-12);
  padding: var(--sp-12) var(--sp-16);
  font-size: var(--fs-14);
  line-height: var(--lh-13);
  cursor: pointer;
  transition:
    transform var(--dur-200) var(--ease-out),
    background var(--dur-200) var(--ease-out),
    border-color var(--dur-200) var(--ease-out),
    box-shadow var(--dur-200) var(--ease-out),
    opacity var(--dur-200) var(--ease-out);
  box-shadow: 0 1px 0 rgba(255, 255, 255, 0.06);
  user-select: none;
}

.btn:hover {
  background: color-mix(in oklab, var(--elev) 70%, transparent);
  border-color: color-mix(in oklab, var(--border) 70%, white);
}

.btn:active {
  transform: translateY(1px);
}

.btn:disabled,
.btn[aria-disabled="true"] {
  opacity: 0.6;
  cursor: not-allowed;
}

.btnGhost {
  background: transparent;
}

.btnPrimary {
  border: 0;
  background: var(--g-accent);
  color: rgba(0, 0, 0, 0.88);
  box-shadow: 0 18px 52px color-mix(in oklab, var(--a1) 18%, transparent);
}

body[data-theme="light"] .btnPrimary {
  color: rgba(255, 255, 255, 0.92);
}

.btnPrimary:hover {
  transform: translateY(-1px);
  box-shadow:
    0 18px 52px color-mix(in oklab, var(--a2) 18%, transparent),
    0 26px 86px color-mix(in oklab, var(--a3) 10%, transparent);
}

.btnIcon {
  width: var(--sp-40);
  padding-left: 0;
  padding-right: 0;
  display: grid;
  place-items: center;
}

.pill {
  appearance: none;
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  color: var(--muted);
  border-radius: var(--r-12);
  padding: var(--sp-8) var(--sp-12);
  font-size: var(--fs-12);
  cursor: pointer;
  transition:
    transform var(--dur-200) var(--ease-out),
    background var(--dur-200) var(--ease-out),
    border-color var(--dur-200) var(--ease-out);
}

.pill:hover {
  background: color-mix(in oklab, var(--elev) 70%, transparent);
  border-color: color-mix(in oklab, var(--border) 70%, white);
}

.pill:active {
  transform: translateY(1px);
}

.pillVal {
  border: var(--border-1) solid var(--border);
  border-radius: var(--r-12);
  padding: var(--sp-8) var(--sp-12);
  font-size: var(--fs-12);
  color: var(--muted);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
}

.in,
.ta {
  width: 100%;
  border: var(--border-1) solid var(--border);
  border-radius: var(--r-12);
  padding: var(--sp-12) var(--sp-16);
  font-size: var(--fs-14);
  line-height: var(--lh-15);
  background: color-mix(in oklab, var(--surface) 72%, transparent);
  color: var(--text);
  outline: none;
  transition:
    border-color var(--dur-200) var(--ease-out),
    box-shadow var(--dur-200) var(--ease-out),
    background var(--dur-200) var(--ease-out);
}

.ta {
  min-height: calc(var(--sp-64) * 3);
  resize: vertical;
}

.taSmall {
  min-height: calc(var(--sp-64) * 2);
}

.inSmall {
  width: calc(var(--sp-64) * 3);
}

.in:focus,
.ta:focus {
  border-color: color-mix(in oklab, var(--focus) 70%, var(--border));
  box-shadow: 0 0 0 var(--sp-8) color-mix(in oklab, var(--focus) 18%, transparent);
  background: color-mix(in oklab, var(--elev) 72%, transparent);
}

.range {
  width: 100%;
  accent-color: var(--a1);
}

.field {
  display: grid;
  gap: var(--sp-8);
}

.lbl {
  font-size: var(--fs-12);
  color: var(--muted);
}

.meta {
  font-size: var(--fs-12);
  color: var(--muted);
}

.form2 {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-16);
}

.form3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: var(--sp-16);
  margin-top: var(--sp-16);
}

@media (max-width: 980px) {
  .form2,
  .form3 {
    grid-template-columns: 1fr;
  }
  .inSmall {
    width: 100%;
  }
}

.toggle {
  display: inline-flex;
  align-items: center;
  gap: var(--sp-12);
  padding: var(--sp-12) var(--sp-16);
  border-radius: var(--r-12);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  font-size: var(--fs-12);
  color: var(--muted);
  user-select: none;
}

.toggle input {
  width: var(--sp-16);
  height: var(--sp-16);
}

.tabs {
  display: inline-flex;
  gap: var(--sp-8);
  padding: var(--sp-8);
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  margin-bottom: var(--sp-16);
}

.tab {
  border: 0;
  background: transparent;
  color: var(--muted);
  border-radius: var(--r-12);
  padding: var(--sp-12) var(--sp-16);
  font-size: var(--fs-14);
  cursor: pointer;
  transition:
    background var(--dur-200) var(--ease-out),
    color var(--dur-200) var(--ease-out);
}

.tab[aria-selected="true"] {
  background: color-mix(in oklab, var(--elev) 70%, transparent);
  color: var(--text);
}

.progress {
  display: grid;
  gap: var(--sp-12);
}

.bar {
  height: var(--sp-12);
  border-radius: var(--r-12);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  overflow: hidden;
}

.barFill {
  height: 100%;
  width: 0%;
  background: var(--g-accent);
  transition: width var(--dur-320) var(--ease-out);
}

.mono {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}

.speak {
  margin-top: var(--sp-16);
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  padding: var(--sp-16);
  display: grid;
  gap: var(--sp-12);
}

.speakText {
  min-height: calc(var(--sp-64) * 1);
  line-height: var(--lh-15);
  color: color-mix(in oklab, var(--text) 84%, var(--muted));
}

.chipLive {
  border-radius: var(--r-12);
  padding: var(--sp-8) var(--sp-12);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  font-size: var(--fs-12);
  color: var(--muted);
}

.split {
  margin-top: var(--sp-20);
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-16);
}

@media (max-width: 980px) {
  .split {
    grid-template-columns: 1fr;
  }
}

.stack {
  display: grid;
  gap: var(--sp-12);
}

.next {
  margin: 0;
  padding-left: var(--sp-20);
  color: var(--muted);
  font-size: var(--fs-14);
  line-height: var(--lh-15);
}

.stats {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: var(--sp-16);
}

.stat {
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  padding: var(--sp-16);
}

.statVal {
  margin-top: var(--sp-8);
  font-size: var(--fs-22);
  line-height: var(--lh-13);
}

.sparkWrap {
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  padding: var(--sp-12);
}

.spark {
  width: 100%;
  height: var(--sp-48);
  display: block;
}

.list {
  display: grid;
  gap: var(--sp-12);
}

.card {
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  padding: var(--sp-16);
  box-shadow: var(--shadow-1);
  content-visibility: auto;
  contain-intrinsic-size: 1px 240px;
}

.card:hover {
  border-color: color-mix(in oklab, var(--border) 70%, white);
}

.cardTop {
  display: grid;
  grid-template-columns: 1fr auto;
  gap: var(--sp-12);
  align-items: start;
}

.cardTitle {
  font-size: var(--fs-18);
  line-height: var(--lh-13);
  margin: 0;
}

.cardMeta {
  margin-top: var(--sp-8);
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-8);
  color: var(--muted);
  font-size: var(--fs-12);
}

.badge {
  display: inline-flex;
  align-items: center;
  padding: var(--sp-8) var(--sp-12);
  border-radius: var(--r-12);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
}

.badge[data-kind="danger"] {
  border-color: color-mix(in oklab, var(--danger) 45%, var(--border));
  color: color-mix(in oklab, var(--danger) 70%, var(--text));
}

.badge[data-kind="warning"] {
  border-color: color-mix(in oklab, var(--warning) 45%, var(--border));
  color: color-mix(in oklab, var(--warning) 65%, var(--text));
}

.badge[data-kind="success"] {
  border-color: color-mix(in oklab, var(--success) 45%, var(--border));
  color: color-mix(in oklab, var(--success) 65%, var(--text));
}

.cardActions {
  margin-top: var(--sp-12);
  display: flex;
  flex-wrap: wrap;
  gap: var(--sp-8);
}

.drag {
  cursor: grab;
}

.drag:active {
  cursor: grabbing;
}

.empty {
  border-radius: var(--r-24);
  border: var(--border-1) dashed var(--border);
  padding: var(--sp-24);
  text-align: center;
}

.emptyTitle {
  font-size: var(--fs-18);
  line-height: var(--lh-13);
  margin-bottom: var(--sp-8);
}

.banner,
.callout {
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 70%, transparent);
  padding: var(--sp-16);
  margin-top: var(--sp-16);
  color: var(--muted);
}

.toasts {
  position: fixed;
  right: var(--sp-16);
  bottom: var(--sp-16);
  width: min(calc(var(--sp-64) * 6), calc(100vw - var(--sp-32)));
  display: grid;
  gap: var(--sp-12);
  z-index: 60;
  pointer-events: none;
}

.toast {
  pointer-events: auto;
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 86%, rgba(0, 0, 0, 0.18));
  padding: var(--sp-16);
  box-shadow: var(--shadow-2);
  display: grid;
  gap: var(--sp-12);
  animation: toastIn var(--dur-320) var(--ease-out) both;
}

@keyframes toastIn {
  from { transform: translateY(var(--sp-12)); opacity: 0; }
  to { transform: translateY(0); opacity: 1; }
}

body[data-motion="reduced"] .toast {
  animation: none;
}

.toastRow {
  display: flex;
  justify-content: space-between;
  gap: var(--sp-12);
  align-items: start;
}

.toastMsg {
  font-size: var(--fs-14);
  line-height: var(--lh-15);
  color: color-mix(in oklab, var(--text) 86%, var(--muted));
}

.overlay {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.52);
  backdrop-filter: blur(var(--blur));
  -webkit-backdrop-filter: blur(var(--blur));
  z-index: 70;
}

.modal {
  position: fixed;
  inset: 0;
  z-index: 80;
  display: grid;
  place-items: center;
  padding: var(--sp-24);
}

.modalCard {
  width: min(calc(var(--sp-64) * 10), calc(100vw - var(--sp-24)));
  border-radius: var(--r-24);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 92%, rgba(0, 0, 0, 0.18));
  box-shadow: var(--shadow-3);
  overflow: hidden;
}

.modalHead {
  display: flex;
  justify-content: space-between;
  gap: var(--sp-12);
  align-items: center;
  padding: var(--sp-16) var(--sp-16);
  border-bottom: var(--border-1) solid var(--border);
}

.modalTitle {
  font-size: var(--fs-18);
  line-height: var(--lh-13);
}

.modalBody {
  padding: var(--sp-16);
}

.modalFoot {
  padding: var(--sp-16);
  border-top: var(--border-1) solid var(--border);
  display: flex;
  justify-content: flex-end;
  gap: var(--sp-8);
  flex-wrap: wrap;
}

.menu {
  position: fixed;
  z-index: 90;
  width: calc(var(--sp-64) * 4);
  border-radius: var(--r-16);
  border: var(--border-1) solid var(--border);
  background: color-mix(in oklab, var(--surface) 92%, rgba(0, 0, 0, 0.18));
  box-shadow: var(--shadow-3);
  padding: var(--sp-8);
  display: grid;
  gap: var(--sp-8);
}

.menuItem {
  width: 100%;
  text-align: left;
}

.foot {
  margin-top: var(--sp-48);
  padding-top: var(--sp-16);
  border-top: var(--border-1) solid var(--border);
  color: var(--muted);
  font-size: var(--fs-12);
  display: flex;
  justify-content: space-between;
  gap: var(--sp-16);
}
