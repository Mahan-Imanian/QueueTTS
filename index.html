<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="color-scheme" content="dark light" />
    <title>QueueTTS · Local-first text-to-speech queue</title>
    <link rel="stylesheet" href="assets/css/app.css" />
  </head>

  <body>
    <a class="skip" href="#main">Skip to content</a>

    <div class="bg" aria-hidden="true"></div>

    <header class="top" role="banner">
      <div class="brand">
        <div class="brandMark" aria-hidden="true">
          <svg viewBox="0 0 64 64" role="img" aria-label="QueueTTS">
            <defs>
              <linearGradient id="g" x1="0" y1="0" x2="1" y2="1">
                <stop offset="0" stop-color="currentColor" stop-opacity="0.92"></stop>
                <stop offset="1" stop-color="currentColor" stop-opacity="0.55"></stop>
              </linearGradient>
            </defs>
            <path
              d="M16 40c4.5 6.5 11 10 20 10 10.5 0 18-5.5 18-15 0-8-5-12.5-14-14l-6-1c-5.5-.9-8-3-8-6.5C26 9 30 6 35.5 6 42 6 47 9 50 14"
              fill="none"
              stroke="url(#g)"
              stroke-width="3.25"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
            <path
              d="M14 50h18c8.5 0 14-4.5 14-12 0-7-4.2-10-11.5-11.3l-4.5-.8"
              fill="none"
              stroke="url(#g)"
              stroke-width="3.25"
              stroke-linecap="round"
              stroke-linejoin="round"
            />
          </svg>
        </div>

        <div class="brandText">
          <h1 class="brandName">QueueTTS</h1>
          <p class="brandTag">Local-first text-to-speech queue for articles and pasted text.</p>
          <div class="chips" aria-label="Product constraints">
            <span class="chip" role="note">Static site</span>
            <span class="chip" role="note">Local-first</span>
            <span class="chip" role="note">No tracking</span>
          </div>
        </div>
      </div>

      <div class="topActions" aria-label="Global actions">
        <button class="btn btnGhost" type="button" id="themeBtn" aria-label="Theme">Theme</button>
        <button class="btn btnGhost" type="button" id="contrastBtn" aria-label="High contrast">Contrast</button>
        <button class="btn btnGhost" type="button" id="motionBtn" aria-label="Reduce motion">Motion</button>
        <button class="btn btnGhost" type="button" id="cmdBtn" aria-label="Command palette" data-tooltip="Ctrl/⌘ K">Commands</button>
        <button class="btn btnGhost" type="button" id="helpBtn" aria-label="Keyboard shortcuts" data-tooltip="?">Shortcuts</button>
      </div>
    </header>

    <main id="main" class="main" role="main">
      <section class="grid">
        <div class="col">
          <section class="panel" aria-label="Playback controls">
            <header class="panelHead">
              <h2 class="h2">Playback</h2>
              <p class="sub">Keyboard-first. Touch-friendly. Local-first.</p>
            </header>

            <div class="row">
              <button class="btn btnPrimary" type="button" id="playBtn">Play</button>
              <button class="btn btnGhost" type="button" id="prevItemBtn">Prev item</button>
              <button class="btn btnGhost" type="button" id="nextItemBtn">Next item</button>
            </div>

            <div class="row">
              <button class="btn btnGhost" type="button" id="prevSegBtn" aria-label="Previous sentence">⟵ Sentence</button>
              <button class="btn btnGhost" type="button" id="nextSegBtn" aria-label="Next sentence">Sentence ⟶</button>

              <div class="row rowTight" role="group" aria-label="Seek controls">
                <button class="btn btnGhost" type="button" id="seekBackBtn" data-tooltip="," aria-label="Seek back by skip interval">−</button>
                <button class="btn btnGhost" type="button" id="seekFwdBtn" data-tooltip="." aria-label="Seek forward by skip interval">+</button>
                <span class="sep" aria-hidden="true"></span>
                <button class="btn btnGhost" type="button" data-seek="-10">-10s</button>
                <button class="btn btnGhost" type="button" data-seek="-15">-15s</button>
                <button class="btn btnGhost" type="button" data-seek="-30">-30s</button>
                <span class="sep" aria-hidden="true"></span>
                <button class="btn btnGhost" type="button" data-seek="10">+10s</button>
                <button class="btn btnGhost" type="button" data-seek="15">+15s</button>
                <button class="btn btnGhost" type="button" data-seek="30">+30s</button>
              </div>
            </div>

            <div class="form3">
              <div class="field">
                <label class="lbl" for="voiceSearch">Voice</label>
                <input id="voiceSearch" class="in" type="text" autocomplete="off" placeholder="Search voices" />
                <select id="voiceSelect" class="in" aria-label="Voice selection"></select>
                <div class="meta" id="voiceMeta">Loading voices…</div>
              </div>

              <div class="field">
                <label class="lbl" for="rate">Rate</label>
                <div class="row rowTight">
                  <input id="rate" class="range" type="range" min="0.75" max="2" step="0.05" />
                  <div class="pillVal" id="rateVal" aria-label="Rate value">1.00×</div>
                </div>
                <div class="row rowTight" role="group" aria-label="Rate presets">
                  <button class="pill" type="button" data-rate="0.75">0.75×</button>
                  <button class="pill" type="button" data-rate="1">1×</button>
                  <button class="pill" type="button" data-rate="1.25">1.25×</button>
                  <button class="pill" type="button" data-rate="1.5">1.5×</button>
                  <button class="pill" type="button" data-rate="2">2×</button>
                </div>
              </div>

              <div class="field">
                <label class="lbl" for="skip">Skip interval</label>
                <select id="skip" class="in" aria-label="Skip interval">
                  <option value="10">10s</option>
                  <option value="15">15s</option>
                  <option value="30">30s</option>
                </select>
                <div class="meta">Used for “,” and “.” seek, and ± buttons.</div>
              </div>
            </div>

            <div class="banner hidden" id="speechBanner" role="status" aria-live="polite"></div>
          </section>

          <section class="panel" aria-label="Add to queue">
            <header class="panelHead">
              <h2 class="h2">Add</h2>
              <p class="sub">Paste instantly or fetch a URL. Extraction failures are expected and handled.</p>
            </header>

            <div class="tabs" role="tablist" aria-label="Add mode">
              <button class="tab" type="button" id="tabPaste" role="tab" aria-selected="true" aria-controls="panePaste">Paste</button>
              <button class="tab" type="button" id="tabUrl" role="tab" aria-selected="false" aria-controls="paneUrl">URL</button>
            </div>

            <div class="panes">
              <div id="panePaste" class="pane" role="tabpanel" aria-labelledby="tabPaste">
                <div class="field">
                  <label class="lbl" for="paste">Text</label>
                  <textarea id="paste" class="ta" placeholder="Paste article text here…"></textarea>
                  <div class="row rowBetween">
                    <div class="meta" id="pasteMeta">0 characters</div>
                    <div class="meta" id="pasteEst">Estimated: 0:00</div>
                  </div>
                </div>

                <div class="form2">
                  <div class="field">
                    <label class="lbl" for="langPaste">Language hint</label>
                    <input id="langPaste" class="in" type="text" placeholder="e.g. en-US" />
                  </div>
                  <div class="field">
                    <label class="lbl" for="headPaste">Headings</label>
                    <select id="headPaste" class="in" aria-label="Heading mode">
                      <option value="cue">Heading cue</option>
                      <option value="pause">Heading pause</option>
                      <option value="off">Heading off</option>
                    </select>
                  </div>
                </div>

                <div class="row rowBetween">
                  <label class="toggle" for="cleanup">
                    <input id="cleanup" type="checkbox" />
                    <span>Quick cleanup</span>
                  </label>
                  <button class="btn btnPrimary" type="button" id="addPasteBtn">Add to queue</button>
                </div>
              </div>

              <div id="paneUrl" class="pane hidden" role="tabpanel" aria-labelledby="tabUrl">
                <div class="field">
                  <label class="lbl" for="url">Article URL</label>
                  <input id="url" class="in" type="url" placeholder="https://example.com/article" />
                  <div class="meta">If fetch fails (CORS), use Paste.</div>
                </div>

                <div class="form2">
                  <div class="field">
                    <label class="lbl" for="langUrl">Language hint</label>
                    <input id="langUrl" class="in" type="text" placeholder="e.g. en-US" />
                  </div>
                  <div class="field">
                    <label class="lbl" for="headUrl">Headings</label>
                    <select id="headUrl" class="in" aria-label="Heading mode for URL">
                      <option value="cue">Heading cue</option>
                      <option value="pause">Heading pause</option>
                      <option value="off">Heading off</option>
                    </select>
                  </div>
                </div>

                <div class="row rowBetween">
                  <div class="meta" id="urlMeta">Ready.</div>
                  <button class="btn btnPrimary" type="button" id="addUrlBtn">Fetch &amp; add</button>
                </div>

                <div class="callout hidden" id="urlError" role="status" aria-live="polite"></div>
              </div>
            </div>
          </section>
        </div>

        <div class="col">
          <section class="panel panelGlow" aria-label="Now playing" aria-live="polite">
            <header class="panelHead row rowBetween">
              <div>
                <h2 class="h2">Now Playing</h2>
                <div class="title" id="nowTitle">Nothing queued</div>
                <div class="sub" id="nowStatus">Add text or a URL to begin.</div>
              </div>

              <div class="row">
                <button class="btn btnGhost" type="button" id="focusBtn">Focus</button>
                <button class="btn btnGhost" type="button" id="moreBtn" aria-haspopup="menu" aria-expanded="false">More</button>
              </div>
            </header>

            <div class="progress" aria-label="Playback progress">
              <div class="bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0" id="bar">
                <div class="barFill" id="barFill"></div>
              </div>
              <div class="row rowBetween mono">
                <span id="elapsed">0:00</span>
                <span id="remaining">-0:00</span>
              </div>
            </div>

            <div class="speak">
              <div class="row rowBetween">
                <div class="chip chipLive" id="stateChip">Ready</div>
                <div class="meta" id="sleepLabel">Sleep timer: off</div>
              </div>
              <div class="speakText" id="speakText">Add an item to start listening.</div>
            </div>

            <div class="split">
              <div class="stack">
                <div class="h3">Up next</div>
                <ol class="next" id="upNext" aria-label="Up next"></ol>
              </div>

              <div class="stack">
                <div class="h3">Session</div>
                <div class="stats">
                  <div class="stat">
                    <div class="meta">Listening today</div>
                    <div class="statVal" id="todayVal">0:00</div>
                  </div>
                  <div class="stat">
                    <div class="meta">Items finished today</div>
                    <div class="statVal" id="doneVal">0</div>
                  </div>
                </div>
                <div class="sparkWrap" aria-label="Listening activity">
                  <svg class="spark" id="spark" viewBox="0 0 200 56" preserveAspectRatio="none" role="img" aria-label="Listening activity sparkline"></svg>
                </div>
              </div>
            </div>
          </section>

          <section class="panel" aria-label="Queue">
            <header class="panelHead row rowBetween">
              <h2 class="h2">Queue</h2>
              <div class="row">
                <input id="queueFilter" class="in inSmall" type="text" placeholder="Filter queue" aria-label="Filter queue" />
                <button class="btn btnGhost" type="button" id="clearBtn">Clear</button>
              </div>
            </header>

            <div class="list" id="queueList" role="list" aria-label="Queue items"></div>

            <div class="empty hidden" id="queueEmpty" role="status" aria-live="polite">
              <div class="emptyTitle">Queue is empty</div>
              <div class="meta">Paste text or fetch a URL, then press Space to start.</div>
            </div>
          </section>

          <section class="panel" aria-label="Settings">
            <header class="panelHead">
              <h2 class="h2">Settings</h2>
              <p class="sub">Stored locally on this device.</p>
            </header>

            <div class="form2">
              <div class="field">
                <label class="lbl" for="sleep">Sleep timer</label>
                <div class="row">
                  <select id="sleep" class="in" aria-label="Sleep timer">
                    <option value="off">Off</option>
                    <option value="5">5 minutes</option>
                    <option value="10">10 minutes</option>
                    <option value="20">20 minutes</option>
                    <option value="30">30 minutes</option>
                    <option value="end">End of item</option>
                  </select>
                  <button class="btn btnGhost" type="button" id="sleepSet">Set</button>
                  <button class="btn btnGhost" type="button" id="sleepCancel">Cancel</button>
                </div>
              </div>

              <div class="field">
                <label class="lbl" for="dict">Pronunciation dictionary</label>
                <textarea id="dict" class="ta taSmall" placeholder="term => replacement, one per line"></textarea>
                <div class="row rowBetween">
                  <div class="meta">Applied locally during playback.</div>
                  <button class="btn btnGhost" type="button" id="dictSave">Save</button>
                </div>
              </div>
            </div>
          </section>
        </div>
      </section>

      <footer class="foot" role="contentinfo">
        <div>QueueTTS</div>
        <div>Local-first. Static. No tracking.</div>
      </footer>

      <div id="toast" class="toasts" role="region" aria-live="polite" aria-label="Notifications"></div>
      <div id="live" class="sr" aria-live="polite"></div>

      <input id="importFile" type="file" accept="application/json" hidden />
    </main>

    <div class="overlay hidden" id="overlay" aria-hidden="true"></div>

    <div class="modal hidden" id="modal" role="dialog" aria-modal="true" aria-hidden="true">
      <div class="modalCard" role="document" aria-label="Dialog">
        <header class="modalHead">
          <div class="modalTitle" id="modalTitle"></div>
          <button class="btn btnGhost btnIcon" type="button" id="modalClose" aria-label="Close">×</button>
        </header>
        <div class="modalBody" id="modalBody"></div>
        <footer class="modalFoot" id="modalFoot"></footer>
      </div>
    </div>

    <div class="menu hidden" id="menu" role="menu" aria-hidden="true"></div>

    <script type="module" src="assets/js/main.js"></script>
  </body>
</html>
