<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>QueueTTS · Local-first text-to-speech queue</title>
    <link rel="stylesheet" href="./assets/css/app.css" />
  </head>
  <body>
    <div id="app" class="app">
      <header class="app__header">
        <div>
          <h1>QueueTTS</h1>
          <p class="subtitle">Local-first TTS queue for articles and pasted text.</p>
        </div>
        <div class="header__actions">
          <button class="button button--ghost" id="themeToggle">Theme</button>
          <button class="button button--ghost" id="contrastToggle">High contrast</button>
          <button class="button button--ghost" id="motionToggle">Reduce motion</button>
        </div>
      </header>

      <section class="controls">
        <div class="controls__left">
          <div class="controls__row">
            <button class="button" id="playPause">Play</button>
            <button class="button button--ghost" id="prevItem">Prev item</button>
            <button class="button button--ghost" id="nextItem">Next item</button>
          </div>
          <div class="controls__row">
            <button class="button button--ghost" id="prevSentence">⟵ Sentence</button>
            <button class="button button--ghost" id="nextSentence">Sentence ⟶</button>
            <div class="seekers">
              <button class="button button--ghost" data-seek="-10">-10s</button>
              <button class="button button--ghost" data-seek="-15">-15s</button>
              <button class="button button--ghost" data-seek="-30">-30s</button>
              <button class="button button--ghost" data-seek="10">+10s</button>
              <button class="button button--ghost" data-seek="15">+15s</button>
              <button class="button button--ghost" data-seek="30">+30s</button>
            </div>
          </div>
        </div>
        <div class="controls__right">
          <div class="control">
            <label for="voiceSearch">Voice</label>
            <input id="voiceSearch" type="text" placeholder="Search voices" />
            <select id="voiceSelect"></select>
          </div>
          <div class="control">
            <label for="rateRange">Rate</label>
            <input id="rateRange" type="range" min="0.75" max="2" step="0.05" />
            <div class="rate__ticks">
              <button class="pill" data-rate="0.75">0.75×</button>
              <button class="pill" data-rate="1">1×</button>
              <button class="pill" data-rate="1.25">1.25×</button>
              <button class="pill" data-rate="1.5">1.5×</button>
              <button class="pill" data-rate="2">2×</button>
            </div>
          </div>
          <div class="control">
            <label for="skipSelect">Skip interval</label>
            <select id="skipSelect">
              <option value="10">10s</option>
              <option value="15">15s</option>
              <option value="30">30s</option>
            </select>
          </div>
        </div>
      </section>

      <section class="now-playing" aria-live="polite">
        <div>
          <h2>Now Playing</h2>
          <p id="nowTitle" class="now-title">Nothing queued</p>
          <p id="nowStatus" class="now-status">Add text or a URL to begin.</p>
        </div>
        <div class="now-progress">
          <div class="progress-bar" id="progressBar">
            <div class="progress-bar__fill" id="progressFill"></div>
          </div>
          <div class="progress-meta">
            <span id="elapsed">0:00</span>
            <span id="remaining">-0:00</span>
          </div>
          <div class="now-speaking" id="nowSpeaking">Ready.</div>
          <div class="sleep-timer" id="sleepTimer">Sleep timer: off</div>
        </div>
        <div class="now-actions">
          <button class="button button--ghost" id="focusMode">Focus mode</button>
          <button class="button button--ghost" id="exportQueue">Export JSON</button>
          <label class="button button--ghost" for="importQueue">Import JSON</label>
          <input id="importQueue" type="file" accept="application/json" hidden />
        </div>
      </section>

      <section class="add-panel">
        <div class="add-tabs">
          <button class="tab tab--active" data-mode="paste">Paste text</button>
          <button class="tab" data-mode="url">Add URL</button>
        </div>
        <div class="add-body">
          <div class="add-pane" data-pane="paste">
            <textarea id="pasteInput" placeholder="Paste article text here..."></textarea>
            <div class="add-options">
              <input id="languageHint" type="text" placeholder="Language hint (e.g. en-US)" />
              <select id="headingMode">
                <option value="cue">Heading cue</option>
                <option value="pause">Heading pause</option>
                <option value="off">Heading off</option>
              </select>
            </div>
            <div class="add-actions">
              <label class="toggle">
                <input id="cleanupToggle" type="checkbox" checked />
                <span>Quick cleanup</span>
              </label>
              <button class="button" id="addPaste">Add to queue</button>
            </div>
          </div>
          <div class="add-pane hidden" data-pane="url">
            <input id="urlInput" type="url" placeholder="https://example.com/article" />
            <div class="add-options">
              <input id="languageHintUrl" type="text" placeholder="Language hint (e.g. en-US)" />
              <select id="headingModeUrl">
                <option value="cue">Heading cue</option>
                <option value="pause">Heading pause</option>
                <option value="off">Heading off</option>
              </select>
            </div>
            <div class="add-actions">
              <button class="button" id="addUrl">Fetch &amp; add</button>
            </div>
            <p class="hint">If extraction fails or CORS blocks the request, you can paste the text per item.</p>
          </div>
        </div>
      </section>

      <section class="queue">
        <div class="queue__header">
          <h2>Queue</h2>
          <div class="queue__actions">
            <button class="button button--ghost" id="clearQueue">Clear</button>
          </div>
        </div>
        <div id="queueList" class="queue__list" role="list"></div>
        <div class="up-next">
          <h3>Up next</h3>
          <ol id="upNext"></ol>
        </div>
      </section>

      <section class="settings">
        <div>
          <h2>Sleep timer</h2>
          <div class="settings__row">
            <select id="sleepSelect">
              <option value="off">Off</option>
              <option value="5">5 minutes</option>
              <option value="10">10 minutes</option>
              <option value="20">20 minutes</option>
              <option value="30">30 minutes</option>
              <option value="end">End of item</option>
            </select>
            <button class="button button--ghost" id="sleepStart">Set</button>
            <button class="button button--ghost" id="sleepCancel">Cancel</button>
          </div>
        </div>
        <div>
          <h2>Pronunciation</h2>
          <textarea id="dictInput" placeholder="custom term => replacement, one per line"></textarea>
          <button class="button button--ghost" id="saveDict">Save dictionary</button>
        </div>
      </section>

      <section class="help" id="shortcuts">
        <h2>Shortcuts</h2>
        <ul>
          <li><strong>Space</strong> play/pause</li>
          <li><strong>J/K</strong> previous/next sentence</li>
          <li><strong>N/P</strong> next/previous item</li>
          <li><strong>,/.</strong> seek by skip interval</li>
          <li><strong>Alt+↑/↓</strong> reorder queue</li>
          <li><strong>F</strong> focus mode</li>
          <li><strong>?</strong> toggle shortcuts</li>
          <li><strong>Esc</strong> exit focus mode</li>
        </ul>
      </section>

      <div class="toast-stack" id="toastStack" role="region" aria-live="polite"></div>
      <div class="sr-only" id="ariaLive" aria-live="polite"></div>
    </div>

    <script type="module" src="./assets/js/main.js"></script>
  </body>
</html>
